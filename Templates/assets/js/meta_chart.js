const testSummaryData=window.testSummaryData||[],testBlockSummaryData=window.testBlockSummaryData||[],stepSummaryData=window.stepSummaryData||[],chartIds=["chart-slide-0","chart-slide-1","chart-slide-2"],canvasIds=["testSummaryChart","testBlockSummaryChart","stepSummaryChart"],chartDataSets=[testSummaryData,testBlockSummaryData,stepSummaryData],chartsInitialized={testSummaryChart:!1,testBlockSummaryChart:!1,stepSummaryChart:!1},prepareChartPayload=t=>{const a=t.find((t=>"Total"===t.label))||{},e=t.filter((t=>"Total"!==t.label));return{labels:e.map((t=>`${t.label} ${t.count}`)),values:e.map((t=>t.count)),colors:e.map((t=>t.color)),total:a.count||0,totalColor:a.color||"#34495e"}},renderPieChart=(t,a)=>{const e=document.getElementById(t).getContext("2d"),{labels:l,values:o,colors:r,total:s,totalColor:n}=prepareChartPayload(a);new Chart(e,{type:"pie",data:{labels:l,datasets:[{data:o,backgroundColor:r,borderWidth:1}]},options:{responsive:!1,maintainAspectRatio:!1,plugins:{legend:{position:"right",align:"end",labels:{font:{size:10},boxWidth:15,generateLabels:t=>{const a=t.data.datasets[0];return t.data.labels.map(((t,e)=>({text:t,fillStyle:a.backgroundColor[e],hidden:!1,index:e}))).concat({text:`Total: ${s}`,fillStyle:n,hidden:!1,index:-1})}}},tooltip:{callbacks:{label:t=>{const a=t.raw||0,e=(a/s*100).toFixed(1);return`${t.label}: ${a} (${e}%)`}}}},layout:{padding:{right:20,bottom:20}}}})},initializeChartOnce=(t,a)=>{const e=document.getElementById(t);0===e.offsetWidth||0===e.offsetHeight||chartsInitialized[t]||(renderPieChart(t,a),chartsInitialized[t]=!0)},showChart=t=>{chartIds.forEach(((a,e)=>{document.getElementById(a).style.display=e===t?"block":"none",e===t&&initializeChartOnce(canvasIds[e],chartDataSets[e])})),document.querySelectorAll(".dot").forEach(((a,e)=>a.classList.toggle("active",e===t)))};